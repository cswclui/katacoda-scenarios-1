![logo](mstran-005/assets/logo-sm.png)

## Objective

The objective of the secenario is to get an example of an hybrid version of a microservice oriented application (MOA) named *Seat Saver* installed and up and running. Then, once running, an additional objective is to understand the structure and mechanics of the MOA.

![Hybrid Architecture](mstran-005/assets/general-architecture.png)

## About the Demonstration Hybrid Microservice

The hybrid microservice demonstrated in this project is implemented using [GraphQL](https://graphql.org/). GraphQL is an API framwork that allows both synchronous and asynchronous commuication.

As mentioned above, the demonstration MOA used in the scenario is named, *Seat Saver*. *Seat Saver* emulates a seat reservation service. Customers can use the microservice to discover `venues` and the `seats` in each `venue`. Also, once a `seat` is identified, a `customer` can `reserve` and then `buy` a `seat`. The status of a given `seat` is described by the property `seat.status`.

![Seat Saver Object Model](mstran-005/assets/seat-saver-data-model.png)

You view data in *Seat Saver* using a GraphQL [query](https://graphql.org/learn/queries/). You change the `status` of a `seat` using a GraphQL [mutation](https://graphql.org/learn/queries/).

Because *Seat Saver* is a hybrid microservice, in addition to the HTTP request/reponse interactions represented by GraphQL queries and mutations, *Seat Saver* facilitates asynchronous interations using a feature of GraphQL called, [subscriptions](https://dgraph.io/docs/graphql/subscriptions/).

When you create a subscription to a microservice powered by GraphQL, you'll get messages that are associated with particular events that are generated by *Seat Saver*. Seat Saver exposes the following events, `onSeatReserved`, `onSeatSold` and `onSeatReleased`. When these events are fired, a message is emitted through a message broker that is internal to the GraphQL API.

For those familiar with GraphQL, you can view the schema for the queries, mutations, subscriptions and types implemented in *Seat Saver* [here](https://gist.github.com/reselbob/1dde70aaf0f1dfe8aba214c8890ea6fd).


## What you'll be doing 

In this scenario you'll get the demonstration MOA up and running. Then, once the MOA is running, you'll subscribe to the internal message server within the GraphQL API and then execute queries and mutations against the API instigate data persistenced and message emission.

You'll be doing the following steps:

* **Step 1:** Installing the lesson code
* **Step 2:** Getting the code up and running
* **Step 3:** Exercising the Code
* **Step 4:** Understanding the Code as an Example of a Synchronous Microservice Oriented Application

## Executing command line instructions 

This scenario is completely interactive. The instructions you'll be given will be executed directly in the terminal window that is embedded directly in the Katacoda interactive learning environment. In the steps to come, when you see a command line instruction with a black background and check mark at the end, like so:

![Katacoda command line](mstran-003/assets/command-01.png)

just click on it and the command will execute in the interative terminal window.

Click the START SCENARIO button to start.